---

- name: Install epel repo
  yum:
    name: "epel-release.noarch"
    state: latest

- name: Install basic packages
  yum:
    name: "{{ install_packages }}"

- name: Make Working Directory
  file:
    path: "{{ item }}"
    state: directory
    owner: root
  with_items:
    - "{{ working_directory }}"

- name: Clone Reposytory
  tags: clone
  git:
    repo: "{{ item.name }}"
    dest: "{{ item.dest }}"
    force: yes
  with_items:
    - "{{ clone_repo_list }}"

- name: Delete bashrc
  file:
    path: /root/.bashrc
    state: absent

- name: Create symbolic link
  file:
    src: "{{ item.src}}"
    dest: "{{ item.dest }}"
    state: link
  with_items:
    - "{{ dotfiles_link }}"

- name: Install fzf
  tags: fzf
  shell: |
    ${HOME}/.fzf/install --all
